# .NET 平台基础知识

[TOC]

## 1 . 概述

.NET 是微软公司开发的一个运行库和平台，它是平台无关和语言无关的，可以支持多种语言创建 .NET 应用并跨平台运行。

> 这有点类似 Java 的 "write once, run anywhere" 的思想

## 2. .NET 平台的构成

.NET 平台主要有平台构造块（CLR, CTS, CLS）和基础类库构成。

### 2.1 平台构造块

.NET 的平台构造块有三个，分别为 CLR, CTS 和 CLS。

#### 2.1.1 CLR —— 公共语言运行库

CLR 全称叫做 Common Langurage Runtime。其主要作用就是为我们定位、加载和管理 .NET 类型，同时负责底层细节的工作，如内存管理、应用托管、处理线程、安全检查等。

> 从 Java 的角度看，CLR 相当于 Java 的 JRE

#### 2.1.2 CTS —— 公共类型系统

CTS 的全称叫做 Common Type System。顾名思义，它定义了一个公共的 .NET 类型系统，描述 .NET 支持的数据结构和类型，这是 .NET 的多语言支持的特点。

#### 2.1.3 CLS —— 公共语言规范

CLS 全称为 Common Language Specification。它定义了一个让所有的 .NET 语言都支持的公共类型和编程结构的子集，这主要是保证各个语言的兼容性而设计的。如果构造的 .NET 类型仅公开与 CLS 兼容的部分，那么所编写的 .NET 库就能与其他语言进行交互。

### 2.2 基础类库

.NET 除了三大构件以外，还提供了一个使用与全部 .NET 程序语言的基础库。

>  相当于 Java 和 C ++ 中的标准库

基础类库包括各种基本类型，文件 IO ，线程，GUI 以及与各种外部设备的交互等等。

下面的图显示了 .NET 构件与基础类库的关系。

![关系](http://img.blog.csdn.net/20160611195251305)

## 3. C# 的特点

1. 不需要指针

2. 自动管理内存和垃圾回收

   > 所以不支持 `delete` 关键字

3. 类、接口、结构、枚举、委托都有正式的语法结构

4. 可以重载操作符

5. 支持基于特性的编程

6. 属性(property) 而非字段(field)

   > 也就是说可以直接用点操作符而不是使用 getter 和 setter。

7. `await` 和 `async` 关键字，类似同步调用的异步调用方法

同时还具有其他语言的泛型、匿名类、反射等特性。

## 4. 托管代码和非托管代码

C# 语言只能在 .NET 运行库中执行。

> 就像 Java 必须使用 JRE 运行一样

正确的来说，这种必须在 .NET 运行库中执行的代码被称为**托管代码**(managed code)；

包含托管代码的二进制单元称为**程序集**(assembly)。

反之，不能直接在 .NET 运行库承载的代码被称为非托管代码(unmanaged code)